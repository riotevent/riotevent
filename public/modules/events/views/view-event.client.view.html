<section data-ng-controller="EventsController" data-ng-init="findOne()">
	<div class="page-header">
		<h1>{{event.title}}
            <a class="btn btn-danger" ng-show="confirm_remove" data-ng-click="remove();">
                <i class="glyphicon glyphicon-trash"></i> Click here if you are sure you want to delete this event
            </a>
    	<div class="pull-right" data-ng-show="authentication.user._id == event.user._id">

            <a class="btn btn-primary" href="/#!/events/{{event.url}}/edit">
                <i class="glyphicon glyphicon-edit"></i>
            </a>
            <a class="btn btn-primary" ng-hide="sure_remove" data-ng-click="sure_remove = true">
                <i class="glyphicon glyphicon-trash"></i>
            </a>
            <a class="btn btn-warning" ng-show="sure_remove && !confirm_remove" data-ng-click="confirm_remove = true">
                <i class="glyphicon glyphicon-trash"></i> Sure ?
            </a>

        </div></h1>
        <small>
            <em class="text-muted">
                Posted on
                <span data-ng-bind="event.created | date:'mediumDate'"></span>
                by
                <span data-ng-bind="event.user.displayName"></span>
            </em>
        </small>
	</div>
    <div class="page-body">
        <div class="row">
            <div class="col-md-12">
                <img class="img-thumbnail" src="uploaded/files/{{event.image}}?dim=1140x400" ng-show="event.image" />
            </div>
        </div>
        <div class="row panel row-event-info" ng-if="event_info_col < 12">
            <div class="col-md-{{event_info_col}} col-event-info" ng-if="event.start_datetime != null || event.end_datetime != null">
                <i class="fa fa-calendar"></i>
                <p><span ng-if="event.start_datetime != null">Starting <span ng-bind="event.start_datetime | date:'longDate'"></span></span><span ng-if="event.end_datetime != null"> until <span ng-bind="event.end_datetime | date:'longDate'"></span></span></p>
            </div>
            <div class="col-md-{{event_info_col}} col-event-info" ng-if="event.time_description != ''">
                <i class="fa fa-clock-o"></i>
                <p ng-bind="event.time_description"></p>
            </div>
            <div class="col-md-{{event_info_col}} col-event-info" ng-if="event.location_name != ''">
                <i class="fa fa-map-marker"></i>
                <p ng-bind="event.location_name"></p>
            </div>
        </div>
        <div class="row event-description" ng-if="event.description != ''">
            <div class="col-md-12" ng-bind-html="event.description"></div>
        </div>
        <div class="row" ng-show="event.location_latitude != null">
            <div class="col-md-12">
                <map-event-view ></map-event-view>
            </div>
        </div>
	</div>
</section>
